{
  "dashboard": {
    "id": null,
    "title": "üö® Paranoid Model V5 - Intelligence Dashboard",
    "tags": ["paranoid", "ml", "intelligence", "monitoring"],
    "style": "dark",
    "timezone": "UTC",
    "editable": true,
    "hideControls": false,
    "graphTooltip": 1,
    "time": {
      "from": "now-24h",
      "to": "now"
    },
    "timepicker": {
      "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"],
      "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"]
    },
    "refresh": "30s",
    "annotations": {
      "list": [
        {
          "name": "Deployments",
          "datasource": "prometheus",
          "enable": true,
          "expr": "changes(paranoid_deployment_timestamp[1h])",
          "iconColor": "green",
          "step": "60s",
          "titleFormat": "Deployment",
          "textFormat": "New paranoid model deployed"
        }
      ]
    },
    "templating": {
      "list": [
        {
          "name": "environment",
          "type": "custom",
          "options": [
            {"text": "production", "value": "production", "selected": true},
            {"text": "staging", "value": "staging", "selected": false}
          ],
          "current": {"text": "production", "value": "production"}
        }
      ]
    },
    "panels": [
      {
        "id": 1,
        "title": "üéØ Model Performance Overview",
        "type": "stat",
        "gridPos": {"h": 6, "w": 24, "x": 0, "y": 0},
        "targets": [
          {
            "expr": "paranoid_auc_sensitive_class",
            "legendFormat": "Sensitive Class AUC",
            "refId": "A"
          },
          {
            "expr": "paranoid_auc_suppression_6w",
            "legendFormat": "Suppression 6w AUC", 
            "refId": "B"
          },
          {
            "expr": "paranoid_auc_narrative_shift",
            "legendFormat": "Narrative Shift AUC",
            "refId": "C"
          },
          {
            "expr": "paranoid_fairness_max_delta_auc",
            "legendFormat": "Max Œî-AUC (Fairness)",
            "refId": "D"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 0.80},
                {"color": "green", "value": 0.86}
              ]
            },
            "min": 0,
            "max": 1,
            "unit": "percentunit"
          }
        },
        "options": {
          "colorMode": "background",
          "graphMode": "area",
          "justifyMode": "center",
          "orientation": "horizontal",
          "displayMode": "gradient"
        }
      },
      
      {
        "id": 2,
        "title": "üö® Signal Detection Rate",
        "type": "graph",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 6},
        "targets": [
          {
            "expr": "rate(paranoid_signals_detected_total[5m])",
            "legendFormat": "Signals/min",
            "refId": "A"
          },
          {
            "expr": "rate(paranoid_signals_high_severity_total[5m])",
            "legendFormat": "High Severity/min",
            "refId": "B"
          }
        ],
        "yAxes": [
          {
            "label": "Signals per minute",
            "min": 0
          }
        ],
        "legend": {
          "show": true,
          "values": true,
          "current": true,
          "avg": true,
          "max": true
        },
        "alert": {
          "conditions": [
            {
              "evaluator": {"params": [0.1], "type": "gt"},
              "operator": {"type": "and"},
              "query": {"params": ["B", "5m", "now"]},
              "reducer": {"params": [], "type": "avg"},
              "type": "query"
            }
          ],
          "executionErrorState": "alerting",
          "for": "2m",
          "frequency": "30s",
          "handler": 1,
          "name": "High Severity Signal Alert",
          "noDataState": "no_data",
          "notifications": []
        }
      },
      
      {
        "id": 3,
        "title": "üìä Quality Gates Status",
        "type": "piechart",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 6},
        "targets": [
          {
            "expr": "paranoid_quality_gates_passed",
            "legendFormat": "Passed",
            "refId": "A"
          },
          {
            "expr": "paranoid_quality_gates_failed", 
            "legendFormat": "Failed",
            "refId": "B"
          }
        ],
        "options": {
          "pieType": "donut",
          "displayLabels": ["name", "percent"],
          "legend": {"displayMode": "visible", "placement": "right"}
        }
      },
      
      {
        "id": 4,
        "title": "üîç HUMINT Actor Networks",
        "type": "graph",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 14},
        "targets": [
          {
            "expr": "paranoid_humint_networks_detected",
            "legendFormat": "Active Networks",
            "refId": "A"
          },
          {
            "expr": "paranoid_humint_high_confidence_hypotheses",
            "legendFormat": "High Confidence Hypotheses",
            "refId": "B"
          }
        ],
        "yAxes": [
          {
            "label": "Count",
            "min": 0
          }
        ]
      },
      
      {
        "id": 5,
        "title": "üìà Concept Drift Monitoring",
        "type": "graph", 
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 14},
        "targets": [
          {
            "expr": "paranoid_auc_drift_7d",
            "legendFormat": "AUC Drift (7d)",
            "refId": "A"
          },
          {
            "expr": "paranoid_calibration_ece",
            "legendFormat": "ECE",
            "refId": "B"
          }
        ],
        "yAxes": [
          {
            "label": "Drift Magnitude",
            "min": 0
          }
        ],
        "thresholds": [
          {
            "value": 0.05,
            "colorMode": "critical",
            "op": "gt",
            "fill": true,
            "line": true
          }
        ]
      },
      
      {
        "id": 6,
        "title": "üåç Data Pipeline Health", 
        "type": "stat",
        "gridPos": {"h": 6, "w": 12, "x": 0, "y": 22},
        "targets": [
          {
            "expr": "paranoid_gdelt_events_processed",
            "legendFormat": "GDELT Events",
            "refId": "A"
          },
          {
            "expr": "paranoid_wgi_countries_processed",
            "legendFormat": "WGI Countries",
            "refId": "B"
          },
          {
            "expr": "paranoid_enrichment_success_rate",
            "legendFormat": "Enrichment Success %",
            "refId": "C"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 200000},
                {"color": "green", "value": 500000}
              ]
            }
          }
        }
      },
      
      {
        "id": 7,
        "title": "üé≠ UI/Frontend Metrics",
        "type": "stat",
        "gridPos": {"h": 6, "w": 12, "x": 12, "y": 22},
        "targets": [
          {
            "expr": "paranoid_ui_load_time_p95",
            "legendFormat": "Load Time P95 (ms)",
            "refId": "A"
          },
          {
            "expr": "paranoid_ui_why_it_matters_coverage",
            "legendFormat": "Why It Matters Coverage %",
            "refId": "B"
          },
          {
            "expr": "paranoid_ui_cards_rendered",
            "legendFormat": "Cards Rendered",
            "refId": "C"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "yellow", "value": 3000},
                {"color": "red", "value": 5000}
              ]
            }
          }
        }
      },
      
      {
        "id": 8,
        "title": "üì∞ Newswire Feed Status",
        "type": "table",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 28},
        "targets": [
          {
            "expr": "paranoid_latest_signal_type",
            "legendFormat": "Latest Signal Type",
            "refId": "A",
            "format": "table"
          },
          {
            "expr": "paranoid_latest_signal_severity",
            "legendFormat": "Severity", 
            "refId": "B",
            "format": "table"
          },
          {
            "expr": "paranoid_latest_signal_confidence",
            "legendFormat": "Confidence",
            "refId": "C", 
            "format": "table"
          },
          {
            "expr": "paranoid_enrichment_timestamp",
            "legendFormat": "Last Enriched",
            "refId": "D",
            "format": "table"
          }
        ],
        "transformations": [
          {
            "id": "merge",
            "options": {}
          }
        ],
        "options": {
          "showHeader": true,
          "sortBy": [{"desc": true, "displayName": "Last Enriched"}]
        }
      },
      
      {
        "id": 9,
        "title": "üö® Alert History",
        "type": "logs",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 36},
        "targets": [
          {
            "expr": "{job=\"paranoid-alerts\"}",
            "refId": "A"
          }
        ],
        "options": {
          "showTime": true,
          "showLabels": false,
          "showCommonLabels": false,
          "wrapLogMessage": true,
          "sortOrder": "Descending"
        }
      }
    ]
  },
  "overwrite": false,
  "inputs": [
    {
      "name": "DS_PROMETHEUS",
      "type": "datasource",
      "pluginId": "prometheus",
      "value": "prometheus"
    }
  ],
  "requires": [
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "8.0.0"
    },
    {
      "type": "datasource",
      "id": "prometheus", 
      "name": "Prometheus",
      "version": "1.0.0"
    }
  ]
}
